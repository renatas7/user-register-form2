(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports={validationMessage:"form_validationMessage__qN93F",actions:"form_actions__1J8LJ",addressInline:"form_addressInline__2B1Ab",inline:"form_inline__1yTzh"}},21:function(e,t,a){e.exports={modal:"formModal_modal__1I3-v",close:"formModal_close__20O2X",title:"formModal_title__3Tt7u",content:"formModal_content__3yZOL"}},26:function(e,t,a){e.exports={container:"spinner_container__2PEFQ",spinner:"spinner_spinner__rNRrs"}},27:function(e,t,a){e.exports={button:"button_button__2wKvk",icon:"button_icon__2qmpL",primary:"button_primary__KwO3T",dim:"button_dim__3y5mZ",light:"button_light__1iBcq",dark:"button_dark__3Q_X4",outline:"button_outline__fnvuO"}},28:function(e,t,a){e.exports={input:"locationInput_input__gYoCt",autocompleteDropdownDontainer:"locationInput_autocompleteDropdownDontainer__1F_bn"}},32:function(e,t,a){e.exports={container:"paper_container__ETdRY"}},33:function(e,t,a){e.exports={backdrop:"backdrop_backdrop__BoU-m"}},35:function(e,t,a){e.exports={input:"input_input__Q80XR"}},36:function(e,t,a){e.exports={container:"home_container__3vpxv"}},38:function(e,t,a){e.exports=a(53)},47:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a(9),s=(a(47),{form:{UPDATE_DASHBOARD_DATA:"form/UPDATE_DASHBOARD_DATA",SET_ON_SYNC_FLAG:"form/SET_ON_SYNC_FLAG",REGISTER_MODAL_OPEN:"form/REGISTER_MODAL_OPEN",UPDATE_FILLING_FORM:"form/UPDATE_FILLING_FORM",ADD_USER:"form/ADD_USER",CLEAR_FORM:"form/CLEAR_FORM",EDITING_USER_ID:"form/EDITING_USER_ID",SET_USER_DATA:"form/SET_USER_DATA",PUSH_EDITED_USERS_DATA:"form/PUSH_EDITED_USERS_DATA",FORM_NOT_VALID:"./form/FORM_NOT_VALID",PUSH_ADDRESS_DATA:"./form/PUSH_ADDRESS_DATA",UPDATE_ADDRESS_DATA:"./form/UPDATE_ADDRESS_DATA",CLEAR_ADDRESS_DATA:"./form/CLEAR_ADDRESS_DATA",ADDRESS_SELECTED:"./form/ADDRESS_SELECTED"},modals:{SET_MODAL_VISIBLE_FLAG:"modals/SET_MODAL_VISIBLE_FLAG"}}),l={form:{updateDashboardAction:function(){return{type:s.form.UPDATE_DASHBOARD_DATA}},setUserOnSyncFlagAction:function(e){return{type:s.form.SET_ON_SYNC_FLAG,flag:e}},setRegisterModalOpenAction:function(e){return{type:s.form.REGISTER_MODAL_OPEN,payload:e}},formState:function(e){return{type:s.form.UPDATE_FILLING_FORM,payload:e}},addUser:function(e){return{type:s.form.ADD_USER,payload:e}},clearForm:function(){return{type:s.form.CLEAR_FORM}},editingUserId:function(e){return{type:s.form.EDITING_USER_ID,payload:e}},setUserData:function(e){return{type:s.form.SET_USER_DATA,payload:e}},pushEditedUsersData:function(e){return{type:s.form.PUSH_EDITED_USERS_DATA,payload:e}},formNotValid:function(e){return{type:s.form.FORM_NOT_VALID,payload:e}},pushAddressData:function(e){return{type:s.form.PUSH_ADDRESS_DATA,payload:e}},updateAddressData:function(e){return{type:s.form.UPDATE_ADDRESS_DATA,payload:e}},clearAddressData:function(){return{type:s.form.CLEAR_ADDRESS_DATA}},addressSelected:function(e){return{type:s.form.ADDRESS_SELECTED,payload:e}}},modal:{setModalVisibleFlagAction:function(e){return{type:s.modals.SET_MODAL_VISIBLE_FLAG,payload:e}}}},i=a(26),d=a.n(i),u=function(){return r.a.createElement("div",{className:d.a.container},r.a.createElement("div",{className:d.a.spinner}))},m=function(e){var t=e.loading,a=e.children;return t?r.a.createElement(u,null):a},_=a(32),f=a.n(_),p=function(e){var t=e.children;return r.a.createElement("div",{className:f.a.container},t)},E=a(33),b=a.n(E),A=function(){return r.a.createElement("div",{className:b.a.backdrop,"aria-hidden":"true"})},D=a(17),S=a(34),y=a.n(S),O=a(27),h=a.n(O),v=function(e){var t=e.children,a=e.color,n=e.classes,o=Object(D.a)(e,["children","color","classes"]);return r.a.createElement("button",Object.assign({className:y()(h.a.button,h.a[a],n.button)},o),t)};v.defaultProps={classes:{}};var g=v,R=a(6),T=a.n(R),N=a(35),U=a.n(N),I=function(e){var t=e.name,a=e.type,n=e.onChange,o=e.value,c=Object(D.a)(e,["name","type","onChange","value"]);return r.a.createElement("input",Object.assign({className:U.a.input,name:t,type:a,onChange:n,value:o},c))};I.defaultProps={name:T.a.string.isRequired,onChange:T.a.func.isRequired,value:T.a.oneOfType([T.a.string.isRequired,T.a.number.isRequired]).isRequired};var j=I,C=a(8),L=a.n(C),x=function(e){var t=e.children,a=e.header,n=e.isEmpty,o=Array.from({length:a.length});return r.a.createElement("div",{className:L.a.main},r.a.createElement("div",{className:L.a.table,role:"grid"},r.a.createElement("div",{className:L.a.header,role:"presentation"},r.a.createElement("div",{className:L.a.headerRow,role:"row"},a.map(function(e,t){return r.a.createElement("span",{className:L.a.headerCell,key:t,role:"columnheader"},r.a.createElement("div",{className:L.a.headerTitle},e))}))),r.a.createElement("div",{className:L.a.body,role:"presentation"},t),n&&r.a.createElement("div",{className:L.a.emptyRow},o.map(function(e,t){return r.a.createElement(F,{key:t}," ")}))),n&&r.a.createElement("p",{className:L.a.infoText}," User list is empty"))},w=function(e){var t=e.children,a=e.onClick;return r.a.createElement("div",{className:L.a.bodyRow,onClick:a,role:"row"},t)},F=function(e){var t=e.children;return r.a.createElement("span",{className:L.a.bodyCell,role:"gridcell"},t)};x.defaultProps={isEmpty:!1},w.defaultProps={onClick:function(){}},F.defaultProps={children:null};var k=x,M=a(36),P=a.n(M),V=Object(c.b)(function(e){return{usersList:e.formState.usersList,loading:e.formState.isOnSync}})(function(e){var t=e.dispatch,a=e.loading,o=e.usersList;Object(n.useEffect)(function(){t(l.form.updateDashboardAction())},[t,a]);var c=function(e,a,n,r,o,c,s,i,d){var u={id:e,name:a,surname:n,email:r,street:o,house:c,city:s,country:i,zipCode:d};t(l.form.editingUserId(e)),t(l.form.formState(u)),t(l.form.setRegisterModalOpenAction(!0))};return r.a.createElement(p,null,r.a.createElement("div",{className:P.a.container},r.a.createElement(g,{color:"primary",onClick:function(){t(l.form.setRegisterModalOpenAction(!0))}},"Add New User")),r.a.createElement(m,{loading:a},r.a.createElement(k,{header:["Name","Surname","Email","Address"],isEmpty:!o.length},o.map(function(e){var t=e.id,a=e.name,n=e.surname,o=e.email,s=e.street,l=e.house,i=e.city,d=e.country,u=e.zipCode;return r.a.createElement(w,{key:t,onClick:function(){return c(t,a,n,o,s,l,i,d,u)}},r.a.createElement(F,null,a),r.a.createElement(F,null,n),r.a.createElement(F,null,o),r.a.createElement(F,null,"".concat(s,", ").concat(l,", ").concat(i,", ").concat(d,", ").concat(u)))}))))}),G=a(21),B=a.n(G),z=a(12),H=a(5),q=a(20),X=a(10),J=a(29),Y={isOnSync:!1,userFormModalIsOpen:!1,formData:{id:null,name:"",surname:"",email:"",street:"",house:"",city:"",country:"",zipCode:""},editingUserId:null,usersList:[],formNotValid:!1,addressUpdate:{},addressSelected:!1},K={globalLoaderModalVisible:!1,globalErrorModalVisible:!1,globalInfoModalVisible:!1},Q=Object(X.c)({formState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.form.SET_ON_SYNC_FLAG:return Object(H.a)({},e,{isOnSync:t.flag});case s.form.REGISTER_MODAL_OPEN:return Object(H.a)({},e,{userFormModalIsOpen:t.payload});case s.form.UPDATE_FILLING_FORM:return Object(H.a)({},e,{formData:Object(H.a)({},t.payload)});case s.form.PUSH_EDITED_USERS_DATA:return Object(H.a)({},e,{usersList:Object(J.a)(t.payload)});case s.form.CLEAR_FORM:return Object(H.a)({},e,{formData:{id:null,name:"",surname:"",email:"",street:"",house:"",city:"",country:"",zipCode:""},editingUserId:null,addressUpdate:{},addressSelected:!1});case s.form.ADD_USER:return Object(H.a)({},e,{usersList:[].concat(Object(J.a)(e.usersList),[t.payload])});case s.form.EDITING_USER_ID:return Object(H.a)({},e,{editingUserId:t.payload});case s.form.FORM_NOT_VALID:return Object(H.a)({},e,{formNotValid:t.payload});case s.form.UPDATE_ADDRESS_DATA:return Object(H.a)({},e,{addressUpdate:t.payload});case s.form.CLEAR_ADDRESS_DATA:return Object(H.a)({},e,{addressUpdate:{}});case s.form.ADDRESS_SELECTED:return Object(H.a)({},e,{addressSelected:t.payload});default:return e}},modalsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.modals.SET_MODAL_VISIBLE_FLAG:var a=t.payload,n=a.modalName+"Visible";return Object(H.a)({},e,Object(z.a)({},n,a.visible));default:return e}}}),Z=a(7),W=a.n(Z),$=a(4),ee=function(e){return e.formState.usersList},te=function(e){return e.formState.formData},ae=a(19),ne=a.n(ae),re=function(e,t){switch(Object.keys(t).length){case 1:e.country=t[0].long_name;break;case 4:e.city=t[0].short_name,e.country=t[3].long_name;break;case 5:case 6:e.street=t[0].short_name,e.city=t[1].short_name,e.country=t[4].long_name;break;case 7:e.street=t[1].short_name,e.house=t[0].short_name,e.city=t[2].short_name,e.country=t[5].long_name,e.zipCode=t[6].short_name}return e},oe=W.a.mark(le),ce=W.a.mark(ie),se=W.a.mark(de);function le(){var e,t;return W.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object($.c)(l.form.setUserOnSyncFlagAction(!0));case 3:if(void 0===(e=localStorage.getItem("usersList"))||null===e){a.next=8;break}return t=JSON.parse(e),a.next=8,Object($.c)(l.form.pushEditedUsersData(t));case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:return a.prev=13,a.next=16,Object($.c)(l.form.setUserOnSyncFlagAction(!1));case 16:return a.finish(13);case 17:case"end":return a.stop()}},oe,null,[[0,10,13,17]])}function ie(e){var t,a,n,r,o,c,s;return W.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object($.c)(l.form.setUserOnSyncFlagAction(!0));case 3:if(t=e.payload,Object.values(t.data).some(function(e){return void 0===e||""===e})){i.next=41;break}if(null!==t.editingUserId){i.next=18;break}return a=Object(H.a)({id:Date.now()},t.data),i.next=10,Object($.c)(l.form.addUser(a));case 10:return i.next=12,Object($.d)(ee);case 12:return n=i.sent,localStorage.setItem("usersList",JSON.stringify(n)),i.next=16,Object($.c)(l.form.formNotValid(!1));case 16:i.next=31;break;case 18:return i.next=20,Object($.d)(ee);case 20:return r=i.sent,i.next=23,Object($.d)(te);case 23:return o=i.sent,c=r.map(function(e){return e.id===t.editingUserId?Object(H.a)({},e,o):e}),i.next=27,Object($.c)(l.form.pushEditedUsersData(c));case 27:return i.next=29,Object($.d)(ee);case 29:s=i.sent,localStorage.setItem("usersList",JSON.stringify(s));case 31:return i.next=33,Object($.c)(l.form.updateDashboardAction());case 33:return i.next=35,Object($.c)(l.form.clearForm());case 35:return i.next=37,Object($.c)(l.form.setRegisterModalOpenAction(!1));case 37:return i.next=39,Object($.c)(l.form.formNotValid(!1));case 39:i.next=43;break;case 41:return i.next=43,Object($.c)(l.form.formNotValid(!0));case 43:i.next=48;break;case 45:i.prev=45,i.t0=i.catch(0),console.log(i.t0);case 48:return i.prev=48,i.next=51,Object($.c)(l.form.setUserOnSyncFlagAction(!1));case 51:return i.finish(48);case 52:case"end":return i.stop()}},ce,null,[[0,45,48,52]])}function de(e){var t,a,n,r,o;return W.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object($.c)(l.form.setUserOnSyncFlagAction(!0));case 3:return t=e.payload.address,a=e.payload.data,c.next=7,Object($.b)(ae.geocodeByAddress,t);case 7:return n=c.sent,r=Object(H.a)({},n[0].address_components),o=re(a,r),c.next=12,Object($.c)(l.form.updateAddressData(o));case 12:return c.next=14,Object($.c)(l.form.addressSelected(!0));case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(0),console.log(c.t0);case 19:return c.prev=19,c.next=22,Object($.c)(l.form.setUserOnSyncFlagAction(!1));case 22:return c.finish(19);case 23:case"end":return c.stop()}},se,null,[[0,16,19,23]])}var ue=W.a.mark(_e),me=W.a.mark(fe);function _e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.e)(s.form.UPDATE_DASHBOARD_DATA,le);case 2:return e.next=4,Object($.e)(s.form.SET_USER_DATA,ie);case 4:return e.next=6,Object($.e)(s.form.PUSH_ADDRESS_DATA,de);case 6:case"end":return e.stop()}},ue)}function fe(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.a)([Object($.b)(_e)]);case 2:case"end":return e.stop()}},me)}var pe=a(14),Ee=a.n(pe),be=a(28),Ae=a.n(be),De=Object(c.b)(function(e){return{data:e.formState.formData,editingUserId:e.formState.editingUserId,formNotValid:e.formState.formNotValid}})(function(e){var t=e.data,a=e.dispatch,o=e.formNotValid,c=Object(n.useState)(""),s=Object(q.a)(c,2),i=s[0],d=s[1],m={border:"1px solid #d22d2d"},_={border:"none"};return r.a.createElement(ne.a,{value:i,onChange:function(e){d(e)},onSelect:function(e){var n={address:e,data:t};a(l.form.pushAddressData(n)),d(e)}},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,c=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"Address",className:Ae.a.input,style:o&&""===i?m:_})),r.a.createElement("div",{className:Ae.a.autocompleteDropdownDontainer},c&&r.a.createElement(u,null),a.map(function(e){var t=e.active?{backgroundColor:"#ebeaeb",cursor:"pointer",borderBottom:"1px solid #ebeaeb"}:{backgroundColor:"#ffffff",cursor:"pointer",borderBottom:"1px solid #ebeaeb"};return r.a.createElement("div",n(e,{style:t}),r.a.createElement("span",null,e.description))})))})}),Se=Object(c.b)(function(e){return{data:e.formState.formData,editingUserId:e.formState.editingUserId,formNotValid:e.formState.formNotValid,addressUpdate:e.formState.addressUpdate,addressSelected:e.formState.addressSelected}})(function(e){var t=e.data,a=e.dispatch,o=e.editingUserId,c=e.formNotValid,s=e.addressUpdate,i=e.addressSelected,d=Object(n.useState)({name:null!==t.name?t.name:"",surname:null!==t.surname?t.surname:"",email:null!==t.email?t.email:"",street:null!==t.street?t.street:"",house:null!==t.house?t.house:"",city:null!==t.city?t.city:"",country:null!==t.country?t.country:"",zipCode:null!==t.zipCode?t.zipCode:""}),u=Object(q.a)(d,2),m=u[0],_=u[1],f=function(e){var t=e.target,a=t.name,n=t.value;_(Object(H.a)({},m,Object(z.a)({},a,n)))};Object(n.useEffect)(function(){Object.keys(s).length>0&&(_(s),a(l.form.clearAddressData()));var e={name:m.name,surname:m.surname,email:m.email,street:m.street,house:m.house,city:m.city,country:m.country,zipCode:m.zipCode};Object.values(e).every(function(e){return""!==e})&&a(l.form.formNotValid(!1)),a(l.form.formState(e))},[a,m,s]);var p={border:"1px solid #d22d2d"},E={border:"none"};return r.a.createElement("div",null,r.a.createElement("div",{className:Ee.a.inline},r.a.createElement(j,{name:"name",type:"string",onChange:f,value:m.name,placeholder:"Name",style:c&&""===m.name?p:E}),r.a.createElement(j,{name:"surname",type:"string",onChange:f,value:m.surname,placeholder:"Surname",style:c&&""===m.surname?p:E})),r.a.createElement(j,{name:"email",type:"string",onChange:f,value:m.email,placeholder:"Email",style:c&&""===m.email?p:E}),i||null!==o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ee.a.addressInline},r.a.createElement(j,{name:"street",type:"string",onChange:f,value:m.street,placeholder:"Street",style:c&&""===m.street?p:E}),r.a.createElement(j,{name:"house",type:"string",onChange:f,value:m.house,placeholder:"House",style:c&&""===m.house?p:E})),r.a.createElement(j,{name:"city",type:"string",onChange:f,value:m.city,placeholder:"City",style:c&&""===m.city?p:E}),r.a.createElement("div",{className:Ee.a.inline},r.a.createElement(j,{name:"country",type:"string",onChange:f,value:m.country,placeholder:"Country",style:c&&""===m.country?p:E}),r.a.createElement(j,{name:"zipCode",type:"string",onChange:f,value:m.zipCode,placeholder:"Zip code",style:c&&""===m.zipCode?p:E}))):r.a.createElement(De,{name:"address",type:"string",onChange:f,value:m.address,placeholder:"Address",style:c&&""===m.address?p:E}),r.a.createElement("div",{className:Ee.a.actions},r.a.createElement(g,{color:"primary",onClick:function(){var e={data:t,editingUserId:o};a(l.form.setUserData(e))}},"Save"),r.a.createElement(g,{color:"outline",onClick:function(){a(l.form.setRegisterModalOpenAction(!1)),a(l.form.clearForm()),a(l.form.formNotValid(!1))}},"Cancel")),c&&r.a.createElement("p",{className:Ee.a.validationMessage},"All form fields must be filled"))}),ye=Object(c.b)(function(e){return{open:e.formState.userFormModalIsOpen,editingUserId:e.formState.editingUserId}})(function(e){var t=e.open,a=e.editingUserId;return t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:B.a.modal,id:"modal",role:"dialog","aria-modal":"true","aria-labelledby":"modal__title","aria-describedby":"modal__desc"},r.a.createElement("h3",{className:B.a.title,id:"modal__title"},null!==a?"Edit user data":"Fill the form"),r.a.createElement("div",{className:B.a.content},r.a.createElement(Se,null))),r.a.createElement(A,null))});var Oe=function(){return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement(ye,null))},he=a(37),ve=Object(he.a)(),ge=[ve],Re="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},Te=Object(X.d)(X.a.apply(void 0,ge),Re),Ne=Object(X.e)(Q,Te);ve.run(fe);var Ue=Ne;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(o.render)(r.a.createElement(c.a,{store:Ue},r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports={main:"table_main__1mXED",table:"table_table__22P7A",header:"table_header__1zG4C",headerRow:"table_headerRow__2q9vA",headerCell:"table_headerCell__1E5KB",headerTitle:"table_headerTitle__2zFjA",body:"table_body__1_jvK",bodyRow:"table_bodyRow__1arZ8",bodyCell:"table_bodyCell__1Xg2G",footerRow:"table_footerRow__SQMxu",footerCell:"table_footerCell__1FKWr",emptyRow:"table_emptyRow__H9IC5",infoText:"table_infoText__1cU4q"}}},[[38,1,2]]]);
//# sourceMappingURL=main.59369803.chunk.js.map